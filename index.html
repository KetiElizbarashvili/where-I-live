<canvas class="webgl"></canvas>

<script type="x-shader/x-vertex" id="vertexshaderCandle">
    void main() {
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
</script>
<script type="x-shader/x-fragment" id="fragmentshaderCandle">
    uniform float time; 
    uniform float colorSpeed;
    uniform float delay; 
    uniform vec3 baseColor;
    varying vec2 vUv;
    
    void main() {
        float animatedTime = time - delay;
        animatedTime = mod(animatedTime, colorSpeed);
 

      
</script>
n() {
        vUv = uv;
        vec2 center = vec2(0.0, 0.0);
        float distance = length(uv - center);
     

<script type="x-shader/x-fragment" id="fragmentshaderDoor">
     vec2 center = vec2(0.5, 0.5);
        float distance = length(vUv - center);
        float waveIntensity = abs(sin(distance * 100.0 + time));
    
        vec3 finalColor = mix(vec3(0.545,0.553,0.306), waveColor, waveIntensity);
    
        gl_FragColor = vec4(finalColor, 1.0);
    }
</script>


// Original code: https://codepen.io/aderaaij/details/BapYONL
<script type="x-shader/x-vertex" id="vertexshader">
    uniform float uPixelRatio;
    uniform float uSize;
    uniform float uTime;
    attribute float aScale;
    void main() {
        vec4 modelPosition = modelMatrix * vec4(position, 1.0);
        modelPosition.y += sin(uTime + modelPosition.x * 100.0) * aScale * 0.2;
        modelPosition.z += sin(uTime + modelPosition.x * 100.0) * aScale * 0.2;
        modelPosition.x += cos(uTime + modelPosition.x * 100.0) * aScale * 0.2;
        vec4 viewPosition = viewMatrix * modelPosition;
        vec4 projectionPostion = projectionMatrix * viewPosition;
        
        gl_Position = projectionPostion;
        gl_PointSize = uSize * aScale * uPixelRatio;
        gl_PointSize += (1.0 / - viewPosition.z);
    }
</script>

<script type="x-shader/x-fragment" id="fragmentshader">
    void main() {
        float distanceToCenter = distance(gl_PointCoord, vec2(0.5));
        float strength = 0.05 / distanceToCenter - 0.1;
        gl_FragColor = vec4(1.0, 1.0, 1.0, strength);
    }
</script>



<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r124/three.min.js"></script>
<script src='https://unpkg.com/three@0.126.0/examples/js/postprocessing/EffectComposer.js'></script>
<script src='https://unpkg.com/three@0.126.0/examples/js/postprocessing/RenderPass.js'></script>
<script src='https://unpkg.com/three@0.126.0/examples/js/postprocessing/ShaderPass.js'></script>
<script src='https://unpkg.com/three@0.126.0/examples/js/shaders/CopyShader.js'></script>
<script src='https://unpkg.com/three@0.126.0/examples/js/shaders/LuminosityHighPassShader.js'></script>
<script src='https://unpkg.com/three@0.126.0/examples/js/postprocessing/UnrealBloomPass.js'></script>

<script src="https://unpkg.com/three@0.126.0/examples/js/loaders/GLTFLoader.js"></script>
<script src="https://unpkg.com/three@0.126.0/examples/js/controls/OrbitControls.js"></script> 